---
import Seo from '@/components/Seo.astro';
import { getTournament } from '@/lib/tournaments';
import TournamentBracketClient from '@/components/TournamentBracketClient';
import SiteLayout from '@/layouts/SiteLayout.astro';

const id = Astro.params.id!;
const { data: t } = await getTournament(id);
if (!t) {
  return new Response('Not found', { status: 404 });
}
---
<SiteLayout title={`Tournoi • ${t.name}`}>
  <Seo slot="head" title={`Tournoi • ${t.name}`} />
  
  <div class="container mx-auto px-4 py-6 max-w-7xl">
    <TournamentBracketClient tournamentId={id} client:load />
  </div>
</SiteLayout>
